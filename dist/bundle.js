import{createRequire as e}from"module";var t={738:(e,t,n)=>{const r=n(147),o=n(17),i=n(37),s=n(968).version,a=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function d(e){console.log(`[dotenv@${s}][DEBUG] ${e}`)}const l={config:function(e){let t=o.resolve(process.cwd(),".env"),n="utf8";const s=Boolean(e&&e.debug),a=Boolean(e&&e.override);var c;e&&(null!=e.path&&(t="~"===(c=e.path)[0]?o.join(i.homedir(),c.slice(1)):c),null!=e.encoding&&(n=e.encoding));try{const e=l.parse(r.readFileSync(t,{encoding:n}));return Object.keys(e).forEach((function(t){Object.prototype.hasOwnProperty.call(process.env,t)?(!0===a&&(process.env[t]=e[t]),s&&d(!0===a?`"${t}" is already defined in \`process.env\` and WAS overwritten`:`"${t}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[t]=e[t]})),{parsed:e}}catch(e){return s&&d(`Failed to load ${t} ${e.message}`),{error:e}}},parse:function(e){const t={};let n,r=e.toString();for(r=r.replace(/\r\n?/gm,"\n");null!=(n=a.exec(r));){const e=n[1];let r=n[2]||"";r=r.trim();const o=r[0];r=r.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===o&&(r=r.replace(/\\n/g,"\n"),r=r.replace(/\\r/g,"\r")),t[e]=r}return t}};e.exports.config=l.config,e.exports.parse=l.parse,e.exports=l},5:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUser=void 0;const r=n(765),o=n(768);t.deleteUser=(e,t,n)=>{try{if((0,o.validate)(n)){const e=r.bd.findIndex((e=>e.id===n));-1!==e&&r.bd[e]?(r.bd.splice(e,1),t.writeHead(204,{"Content-Type":"text/plain"}),t.end("")):(t.writeHead(404,{"Content-Type":"text/plain"}),t.end("userId doesn't exist"))}else t.writeHead(400,{"Content-Type":"text/plain"}),t.end("userId is invalid")}catch(e){t.writeHead(500,{"Content-Type":"text/plain"}),t.end("Something went wrong")}}},312:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getUsers=void 0;const r=n(765);t.getUsers=(e,t)=>{try{t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(r.bd))}catch(e){t.writeHead(500,{"Content-Type":"text/plain"}),t.end("Something went wrong")}}},228:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getById=void 0;const r=n(765),o=n(768);t.getById=(e,t,n)=>{try{if((0,o.validate)(n)){const e=r.bd.findIndex((e=>e.id===n));-1!==e&&r.bd[e]?(t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(r.bd[e]))):(t.writeHead(404,{"Content-Type":"text/plain"}),t.end("userId doesn't exist"))}else t.writeHead(400,{"Content-Type":"text/plain"}),t.end("userId is invalid")}catch(e){t.writeHead(500,{"Content-Type":"text/plain"}),t.end("Something went wrong")}}},183:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.postUser=void 0;const r=n(768),o=n(765);t.postUser=async(e,t)=>{try{let n="";e.on("data",(e=>{n+=e.toString()})),e.on("end",(()=>{const e=JSON.parse(n);e.age&&e.username&&e.hobbies&&"string"==typeof e.username&&"number"==typeof e.age&&1==Array.isArray(e.hobbies)?(e.id=(0,r.v4)(),o.bd.push(e),t.writeHead(201,{"Content-Type":"application/json"}),t.end(JSON.stringify(e))):(t.writeHead(400,{"Content-Type":"text/plain"}),t.end("age(number) and username(string) and hobbies(array) are required fields with specific data types"))}))}catch(e){t.writeHead(500,{"Content-Type":"text/plain"}),t.end("Something went wrong")}}},154:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.putUser=void 0;const r=n(765),o=n(768);t.putUser=(e,t,n)=>{try{if((0,o.validate)(n)){let o="";e.on("data",(e=>{o+=e.toString()})),e.on("end",(()=>{const e=JSON.parse(o),i=r.bd.findIndex((e=>e.id===n));-1!==i&&r.bd[i]?(r.bd[i]={id:r.bd[i].id,username:e.username||r.bd[i].username,age:e.age||r.bd[i].age,hobbies:e.hobbies||r.bd[i].hobbies},t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(r.bd[i]))):(t.writeHead(404,{"Content-Type":"text/plain"}),t.end("userId doesn't exist"))}))}else t.writeHead(400,{"Content-Type":"text/plain"}),t.end("userId is invalid")}catch(e){t.writeHead(500,{"Content-Type":"text/plain"}),t.end("Something went wrong")}}},728:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.server=void 0;const s=i(n(738)),a=i(n(685)),d=n(5),l=n(183),c=n(154),p=n(312),u=n(228);s.config();const f=process.env.PORT;t.server=a.createServer(),t.server.on("request",((e,t)=>{var n,r,o;if(console.log("request",":"+e.headers.host,e.method,e.url),"GET"==e.method&&"/api/users"==e.url||"GET"==e.method&&"/api/users/"==e.url)return(0,p.getUsers)(e,t);if("GET"==e.method&&(null===(n=e.url)||void 0===n?void 0:n.match(/\/api\/users\/[a-zA-Z0-9]{1,}/))){const n=e.url.split("/")[3];return(0,u.getById)(e,t,n)}if("POST"==e.method&&"/api/users"==e.url||"POST"==e.method&&"/api/users/"===e.url)return(0,l.postUser)(e,t);if("PUT"==e.method&&(null===(r=e.url)||void 0===r?void 0:r.match(/\/api\/users\/[a-zA-Z0-9]{1,}/))){const n=e.url.split("/")[3];return(0,c.putUser)(e,t,n)}if("DELETE"==e.method&&(null===(o=e.url)||void 0===o?void 0:o.match(/\/api\/users\/[a-zA-Z0-9]{1,}/))){const n=e.url.split("/")[3];return(0,d.deleteUser)(e,t,n)}t.writeHead(404,{"Content-Type":"text/plain"}),t.end("Page not found")})),t.server.listen(f,(()=>console.log(`Server is running on port ${f}`)))},765:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bd=void 0,t.bd=[]},768:(t,n,r)=>{r.r(n),r.d(n,{NIL:()=>T,parse:()=>h,stringify:()=>f,v1:()=>b,v3:()=>j,v4:()=>O,v5:()=>S,validate:()=>c,version:()=>U});const o=e(import.meta.url)("crypto");var i=r.n(o);const s=new Uint8Array(256);let a=s.length;function d(){return a>s.length-16&&(i().randomFillSync(s),a=0),s.slice(a,a+=16)}const l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&l.test(e)},p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).slice(1));function u(e,t=0){return(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase()}const f=function(e,t=0){const n=u(e,t);if(!c(n))throw TypeError("Stringified UUID is invalid");return n};let v,y,g=0,m=0;const b=function(e,t,n){let r=t&&n||0;const o=t||new Array(16);let i=(e=e||{}).node||v,s=void 0!==e.clockseq?e.clockseq:y;if(null==i||null==s){const t=e.random||(e.rng||d)();null==i&&(i=v=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==s&&(s=y=16383&(t[6]<<8|t[7]))}let a=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:m+1;const c=a-g+(l-m)/1e4;if(c<0&&void 0===e.clockseq&&(s=s+1&16383),(c<0||a>g)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=a,m=l,y=s,a+=122192928e5;const p=(1e4*(268435455&a)+l)%4294967296;o[r++]=p>>>24&255,o[r++]=p>>>16&255,o[r++]=p>>>8&255,o[r++]=255&p;const f=a/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(let e=0;e<6;++e)o[r+e]=i[e];return t||u(o)},h=function(e){if(!c(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function w(e,t,n){function r(e,r,o,i){var s;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=h(r)),16!==(null===(s=r)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),a=n(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=a[e];return o}return u(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const j=w("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("md5").update(e).digest()})),x={randomUUID:i().randomUUID},O=function(e,t,n){if(x.randomUUID&&!t&&!e)return x.randomUUID();const r=(e=e||{}).random||(e.rng||d)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return u(r)},S=w("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("sha1").update(e).digest()})),T="00000000-0000-0000-0000-000000000000",U=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},147:t=>{t.exports=e(import.meta.url)("fs")},685:t=>{t.exports=e(import.meta.url)("http")},37:t=>{t.exports=e(import.meta.url)("os")},17:t=>{t.exports=e(import.meta.url)("path")},968:e=>{e.exports=JSON.parse('{"name":"dotenv","version":"16.0.3","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"require":"./lib/main.js","types":"./lib/main.d.ts","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@types/node":"^17.0.9","decache":"^4.6.1","dtslint":"^3.7.0","sinon":"^12.0.1","standard":"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2","tap":"^15.1.6","tar":"^6.1.11","typescript":"^4.5.4"},"engines":{"node":">=12"}}')}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(728);